# name: Build & Release NativePHP Desktop v2 App

# on:
#   push:
#     tags:
#       - 'v*'
#       - '[0-9]+.[0-9]+.[0-9]+'

# jobs:

#   macos-build:
#     name: Build macOS App
#     runs-on: macos-latest

#     steps:
#       - name: Checkout
#         uses: actions/checkout@v4

#       - name: Setup PHP 8.3
#         uses: shivammathur/setup-php@v2
#         with:
#           php-version: '8.3'
#           extensions: zip, fileinfo, openssl, pdo_sqlite

#       - name: Composer install (prod mode)
#         run: composer install --no-dev --prefer-dist --optimize-autoloader

#       - name: Install NPM deps
#         run: npm install

#       - name: Build frontend
#         run: npm run build

#       - name: Build NativePHP Desktop App (macOS)
#         run: php artisan native:build mac -p always

#       - name: Upload macOS artifacts
#         uses: softprops/action-gh-release@v1
#         with:
#           files: |
#             nativephp/build/macos/*.dmg
#             nativephp/build/macos/*.zip
#         env:
#           GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

#   windows-build:
#     name: Build Windows App
#     runs-on: windows-latest

#     steps:
#       - name: Checkout
#         uses: actions/checkout@v4

#       - name: Setup PHP 8.3
#         uses: shivammathur/setup-php@v2
#         with:
#           php-version: '8.3'
#           extensions: zip, fileinfo, openssl, pdo_sqlite

#       - name: Composer install (prod mode)
#         run: composer install --no-dev --prefer-dist --optimize-autoloader

#       - name: Install NPM deps
#         run: npm install

#       - name: Build frontend
#         run: npm run build

#       - name: Build NativePHP Desktop App (Windows)
#         run: php artisan native:build win -p always

#       - name: Upload Windows artifacts
#         uses: softprops/action-gh-release@v1
#         with:
#           files: |
#             nativephp/build/windows/*.exe
#             nativephp/build/windows/*.zip
#         env:
#           GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
